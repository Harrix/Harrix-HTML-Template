function initSyntaxHighlighting(){jQuery("pre code").each(function(t,i){hljs.highlightBlock(i)})}function initLightGallery(t,i){$(".lightbox").lightGallery({hash:!0}),$(".gallery").justifiedGallery({rowHeight:t,margins:i})}function initShrinkLogo(){jQuery(window).scroll(function(){jQuery(this).scrollTop()>=50?jQuery("#js-logo").addClass("js-shrink"):jQuery("#js-logo").removeClass("js-shrink")})}function initBackToTop(){jQuery(window).scroll(function(){jQuery(this).scrollTop()>=200?jQuery("#js-back-to-top").fadeIn():jQuery("#js-back-to-top").fadeOut()}),jQuery("#js-back-to-top").click(function(){jQuery("html, body").animate({scrollTop:0},800)})}function makeTOC(t){if($("#js-table-of-contents").length){var i,n,e,o,a="<h2>Содержание:</h2><ul>",l=1;$("article "+t).each(function(){n=$(this),e=n.text();var t=n.attr("id");void 0!==t&&!1!==t||(n.attr("id","heading"+l),l++),o="#"+n.attr("id"),a+=i="<li><a href='"+o+"'>"+e+"</a></li>"}),a+="</ul>",$("#js-table-of-contents").prepend(a)}}jQuery(function(){initSyntaxHighlighting(),initLightGallery(300,10),initShrinkLogo(),initBackToTop(),makeTOC("h2"),jQuery('li a[href*="#"], h2 a[href*="#"]').not('[href="#"]').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=jQuery(this.hash);if((t=t.length?t:jQuery("[name="+this.hash.slice(1)+"]")).length)return jQuery("html, body").animate({scrollTop:t.offset().top},800),!1}})});