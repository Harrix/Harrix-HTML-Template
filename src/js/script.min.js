function initSyntaxHighlighting(){jQuery("pre code").each(function(t,n){hljs.highlightBlock(n)})}function initLightGallery(t,n){$(".js-lightbox").lightGallery({hash:!0,share:!1}),$(".js-gallery").justifiedGallery({rowHeight:t,margins:n,border:0})}function initShrinkLogo(t){jQuery(window).scroll(function(){jQuery(this).scrollTop()>=t?jQuery("#js-logo").addClass("js-logo-shrink"):jQuery("#js-logo").removeClass("js-logo-shrink")})}function initBackToTop(t,n){jQuery(window).scroll(function(){jQuery(this).scrollTop()>=t?jQuery("#js-back-to-top").fadeIn():jQuery("#js-back-to-top").fadeOut()}),jQuery("#js-back-to-top").click(function(){jQuery("html, body").animate({scrollTop:0},1e3*n)})}function initTableOfContents(t,n){if($("#js-table-of-contents").length){var i,o,e,l,a="<h2>"+translate("Table of contents")+"</h2>\n<ul>",r=1;$(t+n).each(function(){o=$(this),e=o.text();var t=o.attr("id");void 0!==t&&!1!==t||(o.attr("id","heading"+r),r++),l="#"+o.attr("id"),a+=i="<li><a href='"+l+"'>"+e+"</a></li>\n"}),a+="\n</ul>",$("#js-table-of-contents").prepend(a)}}function initSmoothScrollingToAnchors(){jQuery('li a[href*="#"], h2 a[href*="#"]').not('[href="#"]').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=jQuery(this.hash);if((t=t.length?t:jQuery("[name="+this.hash.slice(1)+"]")).length)return jQuery("html, body").animate({scrollTop:t.offset().top},800),!1}})}function translate(t){return"en"==lang?t:locale[t]}jQuery(function(){initSyntaxHighlighting(),initLightGallery(200,10),initShrinkLogo(50),initBackToTop(200,.8),initTableOfContents("article ","h2"),initSmoothScrollingToAnchors()});var locale={"Table of contents":"Содержание"},lang=$("html").attr("lang");